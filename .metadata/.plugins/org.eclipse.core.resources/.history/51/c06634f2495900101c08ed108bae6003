package network;

import java.rmi.Remote;
import java.rmi.RemoteException;
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.rmi.server.UnicastRemoteObject;

public class RMIClient implements RMIClientInterface {

	private static final String HOST="localhost";
	private RMIServerInterface rmiServerInterface;
	
public RMIClient() throws Exception{
		
		Registry registry = LocateRegistry.getRegistry(HOST);
		
		rmiServerInterface = (RMIServerInterface) registry.lookup("rmiServerInterface");
		
		
		RMIClientInterface stub = (RMIClientInterface) UnicastRemoteObject.exportObject((Remote) this,0);
		
		rmiServerInterface.addClient(stub);
//		trader = (Trader) registry.lookup("trader");
//		
//		// read stock
//		aktien = trader.getAktien();
//		
//		// generate proxy
//		AktienUpdater stub = (AktienUpdater ) UnicastRemoteObject.exportObject(this, 0);
//		
//		// register client at server
//		trader.addClient(stub);
	}
	
	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub

	}

	@Override
	public void updateClient(Object o) throws RemoteException {
		System.out.println("Client Update");
		System.out.println(o.toString());
		
	}

}
